# Python: 変数とデータ型

### 3.1 変数とは？

**変数**は、コンピューターのメモリー上に作られる 「名前付きの箱」 のようなもので、データを保存するために使用します。変数は情報を一時的に保存し、後で再利用したり変更したりすることができます。

#### 変数の基本概念

Python では、変数名に値を代入することで変数を作成します。代入には `=` 演算子を使用します。

```python
# 変数の基本的な使い方
message = "こんにちは"    # 文字列を代入
print(message)           # 出力: こんにちは

count = 5                # 数値を代入
print(count)             # 出力: 5
```

> 📝 **ポイント**: Python では変数を作成する前に宣言する必要はありません。代入した時点で変数が自動的に作成されます。これを 「動的型付け」 と呼びます。

### 3.2 変数の命名規則

Python での変数名は以下のルールに従う必要があります。

1. **使用可能な文字**: 英文字 ( a-z,  A-Z ) 、数字 ( 0-9 )、アンダースコア ( \_ )
2. **最初の文字**: 英文字またはアンダースコアで始める必要がある (数字で始めることはできない)
3. **大文字と小文字**: 大文字と小文字は区別される ( `name` と `Name` は別の変数)
4. **予約語**: `if`, `for`, `while` などの Python の予約語は変数名として使用できない

#### よい変数名の例

```python
age = 25
user_name = "太郎"
total_count = 100
is_valid = True
```

#### 避けるべき変数名の例

```python
1st_place = "Gold"    # 数字で始まっているのでエラー
if = 10               # 予約語なのでエラー
my-variable = 5       # ハイフンは使用できない
```

> 📝 **ポイント**: 変数名は意味のある名前を付けるようにしましょう。`x` や `temp` のような汎用的な名前より、`user_age` や `total_price` のような具体的な名前の方が、コードを読む人 (将来の自分も含む) が理解しやすくなります。

### 3.3 変数の再代入

Python では、同じ変数に異なる値を再代入することができます。新しい値を代入すると、前の値は上書きされます。

```python
# 変数の代入と再代入
x = 10      # xに10を代入
print(x)    # 出力: 10

x = 20      # xに20を再代入（10は上書きされる）
print(x)    # 出力: 20

x = "こんにちは"  # 数値から文字列に型も変わる
print(x)    # 出力: こんにちは
```

> 📝 **ポイント**: Python は動的型付け言語なので、同じ変数に異なる型の値を代入することができます。ただし、これによってバグが生じることもあるため、一般的には一つの変数は一貫した型で使うことが推奨されます。

### 3.4 基本データ型

Python には、以下のような基本的なデータ型があります：

#### 整数型 (int)

整数を表します。小数点を含まない数値です。

```python
age = 25
temperature = -5
count = 0
```

#### 浮動小数点型 (float)&#x20;

小数点を含む数値を表します。

```python
height = 175.5
pi = 3.14159
temperature = -2.5
```

> 📝 **ポイント**: コンピューターの内部表現の関係で、浮動小数点数には小さな誤差が生じることがあります。例えば、`0.1 + 0.2` は厳密には `0.3` になりません。正確な小数計算が必要な場合は `decimal` モジュールを使用します。

#### 文字列型 (str)

文字の並びを表します。シングルクォート ( `'` ) またはダブルクォート ( `"` ) で囲みます。

```python
name = "山田太郎"
message = 'Pythonは楽しい'
empty_string = ""  # 空文字列

# 複数行の文字列は三重引用符で囲む
address = """東京都港区
赤坂1-2-3
マンション101"""
```

**文字列の連結**

`+` 演算子を使って文字列を連結できます。

```python
first_name = "山田"
last_name = "太郎"

full_name = first_name + " " + last_name

print(full_name)  # 出力: 山田 太郎
```

**文字列の繰り返し**

`*` 演算子を使って文字列を繰り返すことができます。

```python
star = "*"
line = star * 10

print(line)  # 出力: **********
```

#### ブール型 (bool)&#x20;

真 ( `True` ) または偽 ( `False` ) の値を表します。条件式の結果として使用されます。

```python
is_student = True
has_license = False

print(is_student)
print(has_license)
```

条件式の結果もブール値になります

```python
x = 5

is_positive = x > 0  # True
is_even = x % 2 == 0  # False
```

#### None型 ⭐

値が存在しないことを表します。他のプログラミング言語では `null` と呼ばれることもあります。

```python
result = None  # まだ結果がない
```

> 📝 **ポイント**: `None` は 「値がない」 ことを明示的に表します。これは 0 や空文字列とは異なります。変数に値が割り当てられていない初期状態や、関数が明示的に値を返さない場合に使用されます。

### 3.5 データ型の確認と変換

#### データ型の確認 ⭐

`type()` 関数を使って、変数のデータ型を確認できます。

```python
x = 42
y = "Hello"
z = True
a = 3.14

print(type(x))  # <class 'int'>
print(type(y))  # <class 'str'>
print(type(z))  # <class 'bool'>
print(type(a))  # <class 'float'>
```

> 📝 **ポイント**: 変数に対して期待しない結果が出る場合、`type()` 関数で型を確認することでバグの発見に役立ちます。

#### 型変換 (キャスト) ⭐

あるデータ型から別のデータ型に変換することを 「型変換」 または 「キャスト」 と呼びます。

**基本的な型変換関数**

* `int()` : 数値や文字列を整数に変換
* `float()` : 数値や文字列を浮動小数点数に変換
* `str()` : 数値やその他の型を文字列に変換
* `bool()` : 値をブール型に変換

```python
# 文字列から数値への変換
age_str = "25"
age = int(age_str)  # 25（整数型）

# 整数から浮動小数点への変換
count = 10
count_float = float(count)  # 10.0

# 数値から文字列への変換
price = 1200
price_str = str(price)  # "1200"

# ブール型への変換
# 0、空文字列、None、空リストなどはFalseに変換される
print(bool(0))     # False
print(bool(1))     # True
print(bool(""))    # False
print(bool("Hello"))  # True
```

> 📝 **ポイント**: 型変換ができないケースもあります。例えば、数値として解釈できない文字列 (例: "abc") を `int()` で変換しようとすると `ValueError` が発生します。

### 3.6 基本的な入出力

#### print() 関数

`print()` 関数は、データを画面に表示するために使用します。

```python
# 基本的な使い方
print("こんにちは")  # こんにちは

# 変数の値を出力
name = "鈴木"
age = 30
print(name)  # 鈴木
print(age)   # 30

# 複数の値を出力（カンマで区切る）
print("名前:", name, "年齢:", age)  # 名前: 鈴木 年齢: 30
```

#### フォーマット文字列 (f-string) ⭐

Python 3.6 以降では、f-string (フォーマット文字列) を使って変数を文字列に埋め込むことができます。

```python
name = "佐藤"
age = 28
print(f"私の名前は{name}です。{age}歳です。")
# 出力: 私の名前は佐藤です。28歳です。

# 式も埋め込める
print(f"5年後は{age + 5}歳になります。")
# 出力: 5年後は33歳になります。
```

```python
# 数値のフォーマット
pi = 3.14159
print(f"円周率は約{pi:.2f}です。")  # 小数点以下2桁
# 出力: 円周率は約3.14です。
```

> 📝 **ポイント**: f-string は、複雑な文字列フォーマットを簡潔に記述できる強力な機能です。変数の値や式の結果を文字列に直接埋め込むことができます。

#### input() 関数 ⭐

`input()` 関数は、ユーザーからの入力を受け取るために使用します。

```python
# 基本的な使い方
name = input("あなたの名前を入力してください: ")
print(f"こんにちは、{name}さん！")
```

```python
# 数値を入力として受け取る場合は型変換が必要
age_str = input("あなたの年齢を入力してください: ")
age = int(age_str)  # 文字列から整数に変換
print(f"あなたは{age}歳ですね。")

# 1行で型変換する方法
height = float(input("あなたの身長(cm)を入力してください: "))
print(f"身長は{height}cmですね。")
```

> 📝 **ポイント**: `input()` は常に文字列を返すため、数値計算に使用する場合は `int()` や `float()` を使って型変換する必要があります。型変換できない入力 (例えば、年齢に 「abc」 と入力) があるとエラーが発生します。

#### 入出力を活用した実用例 ⭐

```python
# 年齢計算プログラム
print("--- 年齢計算プログラム ---")

name = input("お名前を入力してください: ")
birth_year = int(input("生まれた年(西暦)を入力してください: "))

current_year = 2025
age = current_year - birth_year

print(f"こんにちは、{name}さん！")
print(f"あなたは今年で{age}歳ですね。")
```



***

### 演習問題

#### 問題 3-1: 変数への代入

以下の指示に従って、変数を宣言し表示するプログラムを作成してください。

```python
# 変数に自分の名前を代入する (自分の名前に変更してください)
name = "ここに名前を入力"

# 変数に自分の年齢を代入する (自分の年齢に変更してください)
age = 20

# 変数の内容を表示してください
print(name)
print(age)
```

<details>

<summary><strong>ヒント</strong></summary>

* 文字列を代入するときは、引用符 ( `"` または `'` ) で囲みます

- 数値を代入するときは、引用符なしで直接数値を書きます

* `print()` 関数を使うと、変数の内容を画面に表示できます

</details>

#### 問題 3-2: 変数の値の更新

変数の値を更新する練習をしましょう。

```python
# 変数を宣言する
count = 5
print("最初の値:", count)

# 変数の値を10に更新する


# 更新された値を表示する
print("更新後の値:", count)
```

<details>

<summary><strong>ヒント</strong></summary>

* 変数に新しい値を代入するには、`=` 演算子を使います

- 変数の値を更新すると、以前の値は上書きされます

</details>

#### 問題 3-3: 文字列の連結

2つの文字列を連結 (結合) する練習をしましょう。

```python
# 2つの文字列変数を宣言する
first_name = "太郎"
last_name = "山田"

# 2つの文字列を連結して、フルネームを作成する


# 結果を表示する

```

<details>

<summary><strong>ヒント</strong></summary>

* 文字列を連結するには `+` 演算子を使います

- 必要に応じてスペースも追加しましょう (例: `"山田" + " " + "太郎"` )

</details>

#### 問題 3-4: データ型の確認

以下の変数について、それぞれの値と型を表示してください。

```python
a = 42
b = 3.14
c = "Hello"
d = True

# type() 関数を使い、変数の値と型を表示する

```

<details>

<summary><strong>ヒント</strong></summary>

* 変数の型を確認するには `type(変数名)` を使います

- `print()` 関数内で複数の要素を表示する場合は、カンマで区切ります (例: `print("変数a:", a, "型:", type(a))` )

</details>

#### 問題 3-5: 型変換の基本

文字列として表現された数値を本当の数値に変換するプログラムを作成してください。

```python
# 文字列として表現された数値を宣言する
number_str = "25"
decimal_str = "7.5"

# 1. 「number_str」を整数に変換する


# 2.「decimal_str」を小数に変換する


# 3. 変換した値を使って合計値を計算する


# 4. 結果を表示する

```

<details>

<summary><strong>ヒント</strong></summary>

* 文字列を整数に変換するには `int(文字列)` を使います

- 文字列を浮動小数点数に変換するには `float(文字列)` を使います

* 変換後の値を使って計算を行い、結果を表示しましょう

</details>

#### 問題 3-6: ユーザー入力の取得

ユーザーから名前と年齢を入力として受け取り、挨拶メッセージを表示するプログラムを作成してください。

```python
# 1. input() 関数を使い、ユーザーから名前を入力として受け取る 


# 2. ユーザーから年齢を入力として受け取る (文字列から整数に変換することを忘れずに)


# 3. f-string (f"...") を使い、挨拶メッセージを表示する

```

<details>

<summary><strong>ヒント</strong></summary>

* `input()` 関数でユーザーからの入力を取得できます

- `input()` の括弧内に、入力を促すメッセージを入れることができます

* 入力された値は常に文字列型として取得されるため、数値として扱いたい場合は型変換が必要です

- f-string ( `f"..."` ) を使うと、文字列内に変数の値を簡単に埋め込めます

</details>

#### 問題 3-7: エラーの修正

以下のコードにはエラーがあります。修正してください。

```python
# エラーのあるコードを修正する
age = 25
message = "私は" + age + "歳です。"
print(message)
```

<details>

<summary><strong>ヒント</strong></summary>

* 文字列と数値は直接連結 ( `+` で結合) できません
* 数値を文字列に変換するには、`str()` 関数を使います

</details>

