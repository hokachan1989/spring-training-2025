# 5. Python: 関数の基本

### 5.1 関数とは？

**関数**とは、特定のタスクを実行するためにまとめられたコードブロックで、名前をつけて繰り返し呼び出すことができます。関数を使用することで、コードの再利用性が高まり、プログラムの構造が明確になります。

#### 関数の利点

* **コードの再利用**: 同じ処理を何度も書く必要がなくなる
* **抽象化**: 複雑な処理を単純な名前で呼び出せる
* **モジュール化**: プログラムを機能単位に分割できる
* **保守性**: 変更が必要な場合、一箇所を修正するだけでよい

> 📝 **ポイント**: 関数は **「入力を受け取り、処理を行い、結果を返す」** という一連のプロセスをひとまとめにしたものと考えることができます。

### 5.2 組み込み関数の使い方

Python には様々な用途に応じた多くの **組み込み関数** が用意されています。すでに使用している `print()` や `input()` も組み込み関数の一部です。

#### 基本的な組み込み関数

```python
# print(): 値を画面に出力
print("Hello, World!")  #出力: Hello, World!

# input(): ユーザーから入力を受け取る
name = input("名前を入力: ")  # ユーザーからの入力を待つ

# type(): データ型を確認
type(42)  # <class 'int'>

# len(): シーケンス (文字列、リストなど) の長さを取得
len("Python")  # 6

# 数値関連の関数
abs(-5)              # 5 (絶対値)
round(3.7)           # 4 (四捨五入)
max(5, 10, 3)        # 10 (最大値)
min(5, 10, 3)        # 3 (最小値)
sum([1, 2, 3, 4, 5]  # 15 (合計)

# 型変換関数
int("42")            # 42 (文字列 → 整数)
float("3.14")        # 3.14 (文字列 → 浮動小数点)
str(42)              # "42" (整数 → 文字列)
bool(0)              # False (0 は False に変換される)
```

> 📝 **ポイント**: Python の組み込み関数はプログラミングの様々な場面で活用できます。目的の処理を行う組み込み関数がないか調べてみると、効率的にコードを書くことができます。

### 5.3 関数の定義方法

Python では `def` キーワードを使って独自の関数を定義することができます。

#### 基本的な関数定義の構文

```python
def 関数名(引数1, 引数2, ...):
    """関数の説明（ドキュメンテーション文字列）"""
    # 関数本体
    処理1
    処理2
    ...
    return 戻り値  # 任意
```

#### シンプルな関数の例

```python
# 基本的な関数定義
def greet():
    """挨拶を表示する関数"""
    print("こんにちは！")

# 関数の呼び出し
greet()  # 出力: こんにちは！
```

この例では、`greet()` という引数を取らない単純な関数を定義しています。関数を呼び出すと 「こんにちは！」 というメッセージが表示されます。

> 📝 **ポイント**: 関数名は変数名と同様の命名規則に従います。一般的に、関数名は動詞または動詞フレーズを小文字で、単語の区切りにはアンダースコア ( `_` ) を使用します (例: `calculate_total`, `get_user_name` )。

### 5.4 引数と戻り値

関数は**引数** (パラメーター) を受け取り、**戻り値**を返すことができます。

* **引数**: 関数に渡すデータで、括弧 `()` の中に記述します
* **戻り値**: 関数が計算や処理を終えて返す結果で、`return` 文を使って返します

#### 引数を持つ関数

```python
# 引数を持つ関数
def greet_person(name):
    """指定された名前で挨拶する関数"""
    print(f"こんにちは、{name}さん！")

# 引数を指定して関数を呼び出す
greet_person("田中")  # 出力: こんにちは、田中さん！
greet_person("佐藤")  # 出力: こんにちは、佐藤さん！
```

#### 複数の引数を持つ関数 ⭐

```python
# 複数の引数を持つ関数
def display_info(name, age, city):
    """ユーザー情報を表示する関数"""
    print(f"名前: {name}, 年齢: {age}, 住所: {city}")

# 複数の引数を指定して関数を呼び出す
display_info("山田", 30, "東京")  # 出力: 名前: 山田, 年齢: 30, 住所: 東京
```

#### 戻り値を持つ関数 ⭐

```python
# 戻り値を持つ関数
def add_numbers(a, b):
    """2つの数値を加算した結果を返す関数"""
    result = a + b
    return result

# 関数を呼び出し、戻り値を変数に代入
sum_value = add_numbers(5, 3)  # 関数を呼び出し、8が返される
print(sum_value)  # 出力: 8

# 戻り値を直接使用
print(add_numbers(10, 20))  # 出力: 30
```

#### 例：温度変換関数 ⭐

```python
# 温度変換関数
def celsius_to_fahrenheit(celsius):
    """摂氏温度を華氏温度に変換する"""
    return (celsius * 9/5) + 32

# 関数を使ってみる
temp_c = 25
temp_f = celsius_to_fahrenheit(temp_c)

print(f"{temp_c}°C = {temp_f}°F")  # 出力: 25°C = 77.0°F
```
