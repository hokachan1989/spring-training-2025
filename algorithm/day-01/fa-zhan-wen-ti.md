---
description: >-
  このドキュメントでは、基礎文法 (変数、データ型、演算子、条件分岐)
  を使ったより発展的な問題を収録しています。基本問題で学んだ内容を応用し、より実践的な問題解決能力を養うことが目的です。
---

# 発展問題

### 1. データ型と型変換の応用

#### 問題 1-1: 数値の変換と計算

整数と小数を入力として受け取り、適切に計算するプログラムを作成してください。

```python
# ユーザーから整数と小数を入力として受け取る
integer_str = input("整数を入力してください: ")
float_str = input("小数を入力してください: ")

# 1. 入力された文字列を適切な数値型に変換するコードを書いてください


# 2. 整数と小数の和、差、積、商を計算するコードを書いてください


# 3. 計算結果を適切な形式で表示するコードを書いてください
# 商の場合は小数点以下2桁まで表示するとよいでしょう


```

<details>

<summary>ヒント</summary>

* 文字列を整数に変換するには `int()` 関数を使います

- 文字列を浮動小数点数 (小数) に変換するには `float()` 関数を使います

* 数値計算後、結果を表示する際に f-string を使うと便利です (例: `f"和: {result}"` )

- 小数点以下の桁数を制御するには、f-string の形式指定を使用します (例: `f"商: {result:.2f}"` )

</details>

#### 問題 1-2: 時間の条件判定

ユーザーから時間と分を別々に入力として受け取り、その時間帯を判定するプログラムを作成してください。

```python
# ユーザーから時間と分を入力として受け取る
hour = int(input("時間 (0-23) を入力してください: "))
minute = int(input("分 (0-59) を入力してください: "))

# 1. 入力された時間が午前か午後かを判定して表示するコードを書いてください


# 2. 時間帯（朝、昼、夕方、夜）を判定して表示するコードを書いてください
# 朝: 5:00-10:59, 昼: 11:00-16:59, 夕方: 17:00-20:59, 夜: 21:00-4:59


```

<details>

<summary>ヒント</summary>

* 午前/午後の判定は時間 (hour) が12未満かどうかで判断できます
* 時間帯の判定は複数の条件分岐 (if-elif-else) を使います
* 夜の時間帯は深夜 0時から朝5時未満と、夜 9時以降に分かれているので注意が必要です
* 条件を簡潔に書くために、範囲チェックを使うと便利です (例: `5 <= hour < 11` )

</details>

### 2. 条件分岐の応用

#### 問題 2-1: うるう年判定

ユーザーが入力した年がうるう年かどうかを判定するプログラムを作成してください。うるう年の条件は以下の通りです。

* 4で割り切れる年はうるう年
* ただし、100で割り切れる年はうるう年ではない
* ただし、400で割り切れる年はうるう年

```python
# ユーザーから年を入力として受け取る
year = int(input("西暦を入力してください: "))

# うるう年かどうかを判定するコードを書いてください


```

<details>

<summary>ヒント</summary>

* 年が4で割り切れるかどうかは、`year % 4 == 0` で確認できます
* 論理演算子 ( `and`, `or`, `not` ) を使って、複数の条件を組み合わせることができます
* 条件の優先順位に注意してください。括弧を使って明確にするとよいでしょう

</details>

#### 問題 2-2: 複雑な条件判定

会員ランクと購入金額に応じたポイント還元率を計算するプログラムを作成してください。ポイント還元ルールは以下の通りです。

* 基本還元率:
  * 購入金額が 3,000円未満: 1%
  * 購入金額が 3,000円以上 5,000円未満: 2%
  * 購入金額が 5,000円以上: 3%
* 会員ランクによる追加還元:
  * 一般会員: 追加なし
  * シルバー会員: 基本還元率 +1%
  * ゴールド会員: 基本還元率 +2%

```python
# 購入金額
amount = float(input("購入金額を入力してください: "))

# 会員ランク（一般、シルバー、ゴールド）
rank = input("会員ランクを入力してください (一般、シルバー、ゴールド): ")

# ポイント還元率と獲得ポイントを計算するコードを書いてください


```

<details>

<summary>ヒント</summary>

* 条件を段階的に処理していくと整理しやすいでしょう
* まず基本還元率を決定し、次に会員ランクに応じた追加還元を適用します
* 文字列の比較には `==` 演算子を使います
* 最終的なポイントは、購入金額 × 還元率で計算できます
* 小数点以下は切り捨てるとよいでしょう

</details>

### 3. 成績判定プログラム

#### 問題 3-1: 成績評価システム

3つの科目の点数を入力として受け取り、それぞれの成績と総合評価を判定するプログラムを作成してください。

```python
# 3つの科目の点数を入力として受け取る
math_score = int(input("数学の点数を入力してください: "))
english_score = int(input("英語の点数を入力してください: "))
science_score = int(input("理科の点数を入力してください: "))

# 1. 各科目の成績を判定するコードを書いてください
# 90-100: A、80-89: B、70-79: C、60-69: D、0-59: F


# 2. 3科目の平均点を計算するコードを書いてください


# 3. 平均点に基づいて総合評価を判定するコードを書いてください
# 90-100: 優、80-89: 良、70-79: 可、60-69: 可、0-59: 不可


# 4. すべての科目で 60点以上あるかどうかをチェックし、
# 一つでも60点未満の科目があれば「補習が必要です」と表示するコードを書いてください


```

<details>

<summary>ヒント</summary>

* 各科目の成績判定には、if-elif-else 文を使います
* 平均点の計算は、3つの点数の合計を 3 で割ることで求められます
* 総合評価の判定も、if-elif-else 文を使います
* 補習の判定には、論理演算子 `or` を使って 「いずれかの科目が 60点未満」 という条件を表現できます

</details>

### 4. ゲームプログラミング

#### 問題 4-1: じゃんけんゲーム

ユーザーとコンピュータでじゃんけんを行うプログラムを作成してください。

```python
import random  # ランダムな数を生成するためのモジュール

# ユーザーの手を入力として受け取る
print("じゃんけんをしましょう！")
print("1: グー, 2: チョキ, 3: パー")
user_choice = int(input("あなたの手を選んでください (1-3): "))

# 1. ユーザーの選択を「グー」「チョキ」「パー」という文字列に変換するコードを書いてください


# 2. コンピュータの手をランダムに生成するコードを書いてください
# random.randint(1, 3) を使うと、1から3のランダムな整数が得られます
computer_choice = random.randint(1, 3)
# コンピュータの選択も「グー」「チョキ」「パー」という文字列に変換してください


# 3. ユーザーとコンピュータの手を表示するコードを書いてください


# 4. 勝敗を判定して結果を表示するコードを書いてください
# 条件分岐を使って、「あなたの勝ち」「コンピュータの勝ち」「引き分け」のいずれかを表示します


```

<details>

<summary>ヒント</summary>

* ユーザーの選択とコンピュータの選択を、数値から文字列に変換するには、if-elif-else 文を使います
* じゃんけんの勝敗判定には、条件分岐を使います。各組み合わせを考慮する必要があります
* 引き分けの場合: ユーザーとコンピュータの選択が同じ
* ユーザーが勝つ場合: (グー vs チョキ) または (チョキ vs パー) または (パー vs グー)
* コンピュータが勝つ場合: 上記以外

</details>

#### 問題 4-2: 数当てゲーム

コンピュータがランダムに選んだ 1～100 の数字を当てるゲームを作成してください。

```python
import random

# コンピュータが 1～100 の数をランダムに選ぶ
target_number = random.randint(1, 100)
print("1～100 の数字を当ててください。")

# ユーザーの 1回目の予想を入力として受け取る
guess = int(input("あなたの予想: "))

# 予想が正解かどうかを判定し、ヒントを表示するコードを書いてください
# 正解の場合は「正解です！」と表示
# 予想が大きすぎる場合は「もっと小さい数です」と表示
# 予想が小さすぎる場合は「もっと大きい数です」と表示
# ここにコードを書いてください
```

<details>

<summary>ヒント</summary>

* ユーザーの予想と正解の数を比較するには、if-elif-else 文を使います
* 予想が正解より大きいか小さいかによって、適切なヒントを表示します
* このプログラムは 1回の予想しか受け付けませんが、ループ文を学ぶとユーザーが何度も予想できるゲームを作れるようになります

</details>



***

### 解答例

<details>

<summary>問題1-1: 数値の変換と計算</summary>

```python
# ユーザーから整数と小数を入力として受け取る
integer_str = input("整数を入力してください: ")
float_str = input("小数を入力してください: ")

# 1. 入力された文字列を適切な数値型に変換する
integer_num = int(integer_str)
float_num = float(float_str)

# 2. 整数と小数の和、差、積、商を計算する
sum_result = integer_num + float_num
diff_result = integer_num - float_num
prod_result = integer_num * float_num
div_result = integer_num / float_num

# 3. 計算結果を適切な形式で表示する
print(f"和: {sum_result}")
print(f"差: {diff_result}")
print(f"積: {prod_result}")
print(f"商: {div_result:.2f}")  # 小数点以下2桁まで表示
```

</details>

<details>

<summary>問題1-2: 時間の条件判定</summary>

```python
# ユーザーから時間と分を入力として受け取る
hour = int(input("時間（0-23）を入力してください: "))
minute = int(input("分（0-59）を入力してください: "))

# 1. 入力された時間が午前か午後かを判定して表示する
if hour < 12:
    print(f"{hour}時{minute}分は午前です。")
else:
    print(f"{hour}時{minute}分は午後です。")

# 2. 時間帯（朝、昼、夕方、夜）を判定して表示する
if 5 <= hour < 11:
    print("朝の時間帯です。")
elif 11 <= hour < 17:
    print("昼の時間帯です。")
elif 17 <= hour < 21:
    print("夕方の時間帯です。")
else:  # 21 <= hour <= 23 または 0 <= hour < 5
    print("夜の時間帯です。")
```

</details>

<details>

<summary>問題2-1: うるう年判定</summary>

```python
# ユーザーから年を入力として受け取る
year = int(input("西暦を入力してください: "))

# うるう年かどうかを判定する
if (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0):
    print(f"{year}年はうるう年です。")
else:
    print(f"{year}年はうるう年ではありません。")
```

</details>

<details>

<summary>問題4-1: じゃんけんゲーム</summary>

```python
import random

# ユーザーの手を入力として受け取る
print("じゃんけんをしましょう！")
print("1: グー, 2: チョキ, 3: パー")
user_choice = int(input("あなたの手を選んでください (1-3): "))

# 1. ユーザーの選択を「グー」「チョキ」「パー」という文字列に変換する
if user_choice == 1:
    user_hand = "グー"
elif user_choice == 2:
    user_hand = "チョキ"
else:  # user_choice == 3
    user_hand = "パー"

# 2. コンピュータの手をランダムに生成する
computer_choice = random.randint(1, 3)
# コンピュータの選択も「グー」「チョキ」「パー」という文字列に変換する
if computer_choice == 1:
    computer_hand = "グー"
elif computer_choice == 2:
    computer_hand = "チョキ"
else:  # computer_choice == 3
    computer_hand = "パー"

# 3. ユーザーとコンピュータの手を表示する
print(f"あなた: {user_hand}")
print(f"コンピュータ: {computer_hand}")

# 4. 勝敗を判定して結果を表示する
if user_choice == computer_choice:
    print("結果: 引き分け")
elif (user_choice == 1 and computer_choice == 2) or \
     (user_choice == 2 and computer_choice == 3) or \
     (user_choice == 3 and computer_choice == 1):
    print("結果: あなたの勝ち！")
else:
    print("結果: コンピュータの勝ち！")
```

</details>

