# Python: リストの基本

### 7.1 リストとは？

リストは Python の基本的なデータ構造の一つで、複数の値をひとまとめにして扱うことができます。アルゴリズムの学習と実装には欠かせない要素です。

#### リストの特徴

* 複数のデータをまとめて一つの変数に格納できる
* 順序が保持される (追加した順番に要素が並ぶ)
* 異なるデータ型の要素を混在させることができる
* インデックス (添え字) を使って各要素にアクセスできる
* 変更可能 (ミュータブル) なデータ型

> 📝 **ポイント**: リストはプログラミングにおいて最も頻繁に使用されるデータ構造の一つです。アルゴリズムを実装する際、データの集合を扱うことが多いため、リストの操作に慣れることがとても重要です。

### 7.2 リストの作成と初期化

Python でリストを作成する方法はいくつかあります。

#### 空のリスト

```python
# 空のリストを作成
empty_list = []
print(empty_list)
```

<details>

<summary>実行結果</summary>

```
[]
```

</details>

#### 要素を含むリスト

```python
# 整数のリスト
numbers = [1, 2, 3, 4, 5]
print(numbers)

# 文字列のリスト
fruits = ["りんご", "バナナ", "オレンジ"]
print(fruits)

# 異なる型を混在させたリスト
mixed = [1, "Hello", 3.14, True]
print(mixed)
```

<details>

<summary>実行結果</summary>

```
[1, 2, 3, 4, 5]
['りんご', 'バナナ', 'オレンジ']
[1, 'Hello', 3.14, True]
```

</details>

### 7.3 リストへのアクセス (インデックス)

リストの各要素には、位置を示すインデックス (添え字) を使ってアクセスします。**Python のインデックスは 0 から始まる**ことに注意しましょう。

#### 基本的なインデックスアクセス

```python
fruits = ["りんご", "バナナ", "オレンジ", "ぶどう", "メロン"]

# インデックスを使った要素へのアクセス
print(fruits[0])  # 最初の要素
print(fruits[2])  # 3番目の要素
```

<details>

<summary>実行結果</summary>

```
りんご
オレンジ
```

</details>

#### 要素の更新

インデックスを使って、リストの要素を更新することができます。

```python
fruits[1] = "いちご"  # インデックス1の要素を更新
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'いちご', 'オレンジ']
```

</details>

> 📝 **ポイント**: `append()` は末尾に追加、`insert()` は指定位置に挿入、`remove()` は値で削除、`pop()` はインデックスで削除・取得します。アルゴリズム実装では、これらの操作の違いを理解することが重要です。

#### インデックスの範囲外エラー

存在しないインデックスにアクセスすると、`IndexError` が発生します。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
# print(fruits[3])  # IndexError: list index out of range
```

> 📝 **ポイント**: インデックスが範囲内かどうかを確認してからアクセスすることが重要です。リストの長さは `len()` 関数で取得できます。

#### 負のインデックス ⭐

Python では、負のインデックスを使用して末尾から要素にアクセスすることができます。

```python
fruits = ["りんご", "バナナ", "オレンジ", "ぶどう", "メロン"]

# 負のインデックス
print(fruits[-1])  # 最後の要素
print(fruits[-2])  # 最後から2番目の要素
```

<details>

<summary>実行結果</summary>

```
メロン
ぶどう
```

</details>

### 7.4 リストの基本的な操作 ⭐

#### リストの結合

`+` 演算子を使用して、2つのリストを結合することができます。

```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2
print(combined)
```

<details>

<summary>実行結果</summary>

```
[1, 2, 3, 4, 5, 6]
```

</details>

#### 要素の追加

リストの末尾に要素を追加するには、`append()` メソッドを使います。

```python
fruits = ["りんご", "バナナ"]
fruits.append("オレンジ")  # リストの末尾に追加
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'バナナ', 'オレンジ']
```

</details>

#### 要素の挿入

リストの指定した位置に要素を挿入するには、`insert()` メソッドを使います。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
fruits.insert(1, "いちご")  # インデックス1 (2番目の位置) に挿入
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'いちご', 'バナナ', 'オレンジ']
```

</details>

#### 要素の削除

要素を削除する方法はいくつかあります。

**値を指定して削除 (remove)**

```python
fruits = ["りんご", "いちご", "バナナ", "オレンジ"]
fruits.remove("いちご")  # "いちご"を削除
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'バナナ', 'オレンジ']
```

</details>

**インデックスを指定して削除 (pop)**

```python
fruits = ["りんご", "バナナ", "オレンジ"]
removed_fruit = fruits.pop(1)  # インデックス1の要素を削除して、その値を取得
print(removed_fruit)
print(fruits)

# 引数なしの pop() は末尾の要素を削除
last_fruit = fruits.pop()
print(last_fruit)
print(fruits)
```

<details>

<summary>実行結果</summary>

```
バナナ
['りんご', 'オレンジ']
オレンジ
['りんご']
```

</details>

> 📝 **ポイント**: `append()` は末尾に追加、`insert()` は指定位置に挿入、`remove()` は値で削除、`pop()` はインデックスで削除・取得します。アルゴリズム実装では、これらの操作の違いを理解することが重要です。

### 7.5 リストの基本的なメソッドと関数

リストを操作するための基本的なメソッドと関数を紹介します。

#### リストの長さ (要素数) を取得

```python
numbers = [3, 1, 4, 1, 5, 9, 2, 6]
length = len(numbers)
print(length)
```

<details>

<summary>実行結果</summary>

```
8
```

</details>

#### 要素の検索

```python
fruits = ["りんご", "バナナ", "オレンジ", "バナナ"]
# インデックスを取得 (先頭から検索)
index = fruits.index("バナナ")
print(index)  # 最初に見つかった "バナナ" のインデックス

# 要素の出現回数を数える
count = fruits.count("バナナ")
print(count)  # "バナナ" の出現回数
```

<details>

<summary>実行結果</summary>

```
1
2
```

</details>

#### in 演算子による要素の検索

Python では `in` 演算子を使って、リスト内に特定の要素が存在するかどうかを簡単に確認できます。

```python
fruits = ["りんご", "バナナ", "オレンジ", "ぶどう"]

# 要素が含まれているかをチェック
if "バナナ" in fruits:
    print("バナナが見つかりました")

# 含まれていない要素のチェック
if "メロン" not in fruits:
    print("メロンは見つかりませんでした")
```

<details>

<summary>実行結果</summary>

```
バナナが見つかりました
メロンは見つかりませんでした
```

</details>

### 7.6 実践：リストを使ったデータ処理

リストを使った実践的なデータ処理の例を見てみましょう。

#### 例: インデックスを使ったリスト操作

```python
# 九州の県リスト
prefectures = ["福岡", "佐賀", "長崎", "熊本", "大分", "宮崎", "鹿児島"]

# インデックスを使って特定の要素にアクセス
print(f"3番目の県: {prefectures[2]}")

# インデックスを使って要素を更新
prefectures[0] = "福岡県"
print(prefectures)

# インデックスを使った要素の入れ替え
i = 3
j = 4
prefectures[i], prefectures[j] = prefectures[j], prefectures[i]
print(f"入れ替え後: {prefectures}")
```

<details>

<summary>実行結果</summary>

```
3番目の県: 長崎
['福岡県', '佐賀', '長崎', '熊本', '大分', '宮崎', '鹿児島']
入れ替え後: ['福岡県', '佐賀', '長崎', '大分', '熊本', '宮崎', '鹿児島']
```

</details>

> 📝 **ポイント**: 実際のアルゴリズム実装では、インデックスを操作して要素の位置を変更することがよくあります。特にソートアルゴリズムでは、要素の交換が基本操作となります。

### 練習問題

リストの操作に慣れるための練習問題です。

#### 問題1: リストの最大値と最小値

与えられたリスト `numbers = [45, 12, 67, 8, 23, 31, 56]` から、最大値と最小値を求めて表示するプログラムを作成してください。ただし、`max()` 関数と `min()` 関数は使わずに、for ループを使って実装してください。

#### 問題2: リストの要素の合計

与えられたリスト `numbers = [10, 20, 30, 40, 50]` の全要素の合計を計算するプログラムを作成してください。ただし、`sum()` 関数は使わずに、for ループを使って実装してください。

#### 問題3: リストの要素の平均

与えられたリスト `scores = [85, 92, 78, 65, 88, 72]` の平均値を計算するプログラムを作成してください。

#### 問題4: リストの要素の検索

与えられたリスト `names = ["Alice", "Bob", "Charlie", "David", "Eve"]` の中から、特定の名前を探して、見つかった場合はそのインデックスを表示し、見つからなかった場合はメッセージを表示するプログラムを作成してください。
