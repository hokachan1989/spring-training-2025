---
description: このドキュメントでは、リストとループにを使ったより実践的な問題です。
---

# 発展問題 ②

### 1. 数値リストの処理

#### 問題 1-1: 最大値と最小値を探す

数値のリストから最大値、最小値、その位置 (インデックス) を探すプログラムを作成してください。

```python
numbers = [45, 12, 67, 8, 23, 31, 56]

# 1. numbers から最大値を探し、値とそのインデックスを表示する
# max() 関数は使わず、ループを使って最大値を探す


# 2. numbers から最小値を探し、値とそのインデックスを表示する
# min() 関数は使わず、ループを使って最小値を探す


```

* 最初の要素を仮の最大値/最小値として設定し、他の要素と比較していく方法が効果的です
* 同時に最大値/最小値のインデックスも記録しておきます
* if文でリストの各要素と現在の最大値/最小値を比較します

#### 問題 1-2: 合計と平均の計算

数値のリストの合計、平均、標準偏差を計算するプログラムを作成してください。

```python
scores = [85, 92, 78, 65, 88, 72, 90, 81]

# 1. scores の合計を計算して表示する
# sum() 関数は使わず、ループを使って合計を計算する


# 2. scores の平均を計算して表示する
# 合計をリストの長さで割る


# 3. 平均以上の点数だけを抽出して新しいリストを作る


```

**ヒント**:

* 合計を計算するには、初期値 0 の変数を用意し、ループ内で各要素を加えていきます
* 平均は 「合計 ÷ 要素数」 で計算できます
* 新しいリストを作るには、空のリストを用意し、条件に合う要素を追加していきます

### 2. リストの操作と変換

#### 問題 2-1: リストのフィルタリング

リストから特定の条件を満たす要素だけを取り出すプログラムを作成してください。

```python
values = [12, 5, 8, 23, 14, 19, 7, 41, 30]

# 1. values から偶数だけを取り出し、新しいリスト even_numbers を作る
# 偶数は 2 で割ったときの余りが 0 の数


# 2. values から 10 以上 20 未満の数だけを取り出し、新しいリスト in_range を作る


# 3. 結果を表示する


```

**ヒント**:

* 空のリストを作成し、条件に合う要素だけを追加します
* 偶数かどうかは `number % 2 == 0` で判定できます
* 範囲内かどうかは `10 <= number < 20` のような複合条件で判定できます

#### 問題 2-2: リストの変換

リストの各要素に対して特定の操作を行い、新しいリストを作成するプログラムを作成してください。

```python
numbers = [10, 25, 7, 31, 42, 16]

# 1. numbers の各要素を 2 倍にした新しいリスト doubled_numbers を作る


# 2. numbers の各要素を文字列に変換し、
# "Number: X" という形式にした新しいリスト formatted_numbers を作る
# 例: "Number: 10", "Number: 25", ...


# 3. 結果を表示する


```

**ヒント**:

* 空のリストを作成し、変換後の要素を追加していきます
* 各要素に操作を行うには、ループ内で計算や変換を行います
* 文字列変換とフォーマットにはf-stringが便利です: `f"Number: {number}"`

### 3. 2次元リストの処理

#### 問題 3-1: 2次元リストの操作

行列 (2次元リスト) を操作するプログラムを作成してください。

```python
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# 1. matrix の各行の合計を計算し、行ごとの合計値のリスト row_sums を作る
# 結果例: [6, 15, 24]


# 2. matrix の各列の合計を計算し、列ごとの合計値のリスト column_sums を作る
# 結果例: [12, 15, 18]


# 3. matrix の対角要素 (左上から右下への対角線上の要素) の合計を計算する
# 結果例: 1 + 5 + 9 = 15


# 4. 結果を表示するコードを書いてください


```

**ヒント**:

* 2次元リストは 「リストのリスト」 として扱います
* 行へのアクセスは `matrix[行のインデックス]` で行います
* 要素へのアクセスは `matrix[行のインデックス][列のインデックス]` で行います
* 列の処理にはネストしたループが必要になります (外側のループが列、内側のループが行)
* 対角要素は、行と列のインデックスが同じ要素です (例: matrix\[0]\[0], matrix\[1]\[1], matrix\[2]\[2])

#### 問題 3-2: チェス盤の作成

チェス盤を表す2次元リストを作成するプログラムを作成してください。"B"は黒マス、"W"は白マスを表します。

```python
# 8×8のチェス盤を表す2次元リストchess_boardを作成するコードを書いてください
# 左上（インデックス[0][0]）は白マス("W")から始まり、行と列のインデックスの和が偶数の場合は白マス、奇数の場合は黒マス("B")とします
# ここにコードを書いてください

# 作成したチェス盤を表示するコードを書いてください
# 以下のように表示されるとわかりやすいです：
# W B W B W B W B
# B W B W B W B W
# W B W B W B W B
# ...
# ここにコードを書いてください
```

**ヒント**:

* まず空の 2次元リスト (8行のリスト、各行には8個の要素) を作成します
* 2重ループを使って各行と列のインデックスを処理します
* 行と列のインデックスの和が偶数か奇数かで、白マスか黒マスかを判断します
* マスの値を設定するには、`chess_board[行][列] = "W"` または `"B"` とします
* チェス盤を表示するには、各行ごとに要素を横に並べて表示します

### 4. データ集計と分析

#### 問題 4-1: 学生の成績分析

学生の成績データを分析するプログラムを作成してください。

```python
students = [
    {"name": "佐藤", "score": 85},
    {"name": "鈴木", "score": 92},
    {"name": "田中", "score": 68},
    {"name": "渡辺", "score": 76},
    {"name": "伊藤", "score": 93},
    {"name": "山本", "score": 71},
    {"name": "中村", "score": 80}
]

# 1. 最高得点の学生の名前と点数を見つける


# 2. 平均点を計算する


# 3. 平均点以上の学生の名前を一覧にする


# 4. 点数が 70点未満の学生の名前を一覧にする


```

**ヒント**:

* 辞書 (ディクショナリ) のリストからデータにアクセスするには、`students[インデックス]["name"]` や `students[インデックス]["score"]` のようにします
* 最高得点を見つけるには、現在の最高点を記録する変数を用意し、全学生をループで調べます
* 平均点を計算するには、まず全学生の点数の合計を計算し、学生数で割ります
* 条件に合う学生の名前を一覧にするには、空のリストを用意し、条件を満たす学生の名前を追加していきます

#### 問題 4-2: 商品データの集計

商品の販売データを集計するプログラムを作成してください。

```python
sales = [
    {"product": "ノートPC", "price": 80000, "quantity": 5},
    {"product": "モニター", "price": 25000, "quantity": 8},
    {"product": "キーボード", "price": 5000, "quantity": 15},
    {"product": "マウス", "price": 3000, "quantity": 20},
    {"product": "プリンター", "price": 15000, "quantity": 3}
]

# 1. 各商品の売上 (price × quantity) を計算し、商品名と売上を表示する


# 2. 総売上 (すべての商品の売上の合計) を計算し、表示する


# 3. 平均単価 (すべての商品のpriceの平均) を計算し、表示する


# 4. 最も売上の高い商品を見つけ、商品名と売上を表示する


```

**ヒント**:

* 売上は商品の価格と数量の積で計算できます: `sales[インデックス]["price"] * sales[インデックス]["quantity"]`
* 総売上を計算するには、各商品の売上を合計します
* 平均単価を計算するには、すべての商品の価格の合計を商品数で割ります
* 最も売上の高い商品を見つけるには、各商品の売上を計算し、最大値を持つ商品を記録します

### 5. リストとループを活用したゲーム

#### 問題 5-1: 数当てゲーム

コンピュータが隠した数字を当てるゲームを作成してください。

```python
import random

# コンピュータが1〜100の間でランダムに選んだ数字
secret_number = random.randint(1, 100)
attempts = []  # プレイヤーの予想を記録するリスト

# プレイヤーが最大 7回まで予想できる数当てゲームを実装してください
# 1. while ループを使って、プレイヤーが最大 7回まで予想できるようにします
# 2. 各試行でプレイヤーが数字を予想し、その結果 (大きい/小さい/正解) を表示します
# 3. プレイヤーの予想を attempts リストに記録します
# 4. プレイヤーが正解した場合、またはすべての試行を使い切った場合はゲーム終了です
# 5. ゲーム終了時に、試行回数と予想した数字の履歴を表示します

max_attempts = 7
attempt_count = 0
game_over = False

print("1〜100の間の数字を当ててください！")

# ここにゲームのコードを書く


```

**ヒント**:

* `while` ループを使って、ゲームが終了するまで繰り返します
* ゲームの終了条件は、プレイヤーが正解した場合、または最大試行回数に達した場合です
* プレイヤーの予想は `input()` 関数で取得し、`int()` で整数に変換します
* 予想と秘密の数字を比較して、大きいか小さいか、または正解かを表示します
* 各予想を `attempts` リストに追加します
* ゲーム終了時に、試行回数と全予想履歴を表示します

#### 問題 5-2: 単語当てゲーム

プレイヤーが文字を予想して単語を当てるゲームを作成してください。

```python
# 当てる単語
word = "python"
guessed_letters = []  # プレイヤーが予想した文字を記録するリスト
word_display = ["_"] * len(word)  # 表示用（例: "_ _ _ _ _ _"）
max_attempts = 10
attempts_left = max_attempts
game_over = False

print("単語当てゲームを始めます！")
print(f"単語は{len(word)}文字です: {' '.join(word_display)}")
print(f"あと{attempts_left}回間違えられます。")

# 単語当てゲームを実装してください
# 1. while ループを使って、ゲームが終了するまで繰り返します
# 2. 各試行でプレイヤーが 1文字を予想し、その結果を表示します
# 3. プレイヤーの予想した文字を guessed_letters リストに記録します
# 4. 正解の単語に予想した文字が含まれていれば、word_displayの対応する位置を更新します
# 5. 含まれていなければ、attempts_leftを1減らします
# 6. ゲーム終了条件は、単語をすべて当てた場合、または試行回数を使い切った場合です

# ここにゲームコードを書く


```

**ヒント**:

* `while` ループを使って、ゲームが終了するまで繰り返します
* プレイヤーの予想は `input()` 関数で取得します
* 予想した文字が単語に含まれているかをチェックするには、`in` 演算子を使います: `letter in word`
* 単語内で予想した文字の位置を見つけるには、ループを使って各文字を調べます
* 文字が見つかったら、`word_display` リストの対応する位置を更新します
* ゲームの終了条件をチェックします (単語をすべて当てた、または試行回数を使い切った)



***

### 解答例

#### 問題 1-1: 最大値と最小値を探す

```python
numbers = [45, 12, 67, 8, 23, 31, 56]

# 1. numbersから最大値を探し、値とそのインデックスを表示する
max_value = numbers[0]  # 最初の要素を仮の最大値とする
max_index = 0

for i in range(1, len(numbers)):
    if numbers[i] > max_value:
        max_value = numbers[i]
        max_index = i

print(f"最大値: {max_value}, インデックス: {max_index}")

# 2. numbersから最小値を探し、値とそのインデックスを表示する
min_value = numbers[0]  # 最初の要素を仮の最小値とする
min_index = 0

for i in range(1, len(numbers)):
    if numbers[i] < min_value:
        min_value = numbers[i]
        min_index = i

print(f"最小値: {min_value}, インデックス: {min_index}")
```

#### 問題1-2: 合計と平均の計算

```python
scores = [85, 92, 78, 65, 88, 72, 90, 81]

# 1. scoresの合計を計算して表示する
total = 0
for score in scores:
    total += score
print(f"合計: {total}")

# 2. scoresの平均を計算して表示する
average = total / len(scores)
print(f"平均: {average}")

# 3. 平均以上の点数だけを抽出して新しいリストを作る
above_average = []
for score in scores:
    if score >= average:
        above_average.append(score)
print(f"平均以上の点数: {above_average}")
```

#### 問題3-1: 2次元リストの操作

```python
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# 1. matrixの各行の合計を計算し、行ごとの合計値のリストを作る
row_sums = []
for row in matrix:
    row_sum = 0
    for value in row:
        row_sum += value
    row_sums.append(row_sum)
print(f"行ごとの合計: {row_sums}")

# 2. matrixの各列の合計を計算し、列ごとの合計値のリストを作る
column_sums = []
for col_index in range(len(matrix[0])):  # 列の数
    col_sum = 0
    for row_index in range(len(matrix)):  # 行の数
        col_sum += matrix[row_index][col_index]
    column_sums.append(col_sum)
print(f"列ごとの合計: {column_sums}")

# 3. matrixの対角要素の合計を計算する
diagonal_sum = 0
for i in range(len(matrix)):
    diagonal_sum += matrix[i][i]
print(f"対角要素の合計: {diagonal_sum}")
```
