# 7. Python: リストの基本

### 7.1 リストとは？

リストは Python の基本的なデータ構造の一つで、複数の値をひとまとめにして扱うことができます。アルゴリズムの学習と実装には欠かせない要素です。

#### リストの特徴

* 複数のデータをまとめて一つの変数に格納できる
* 順序が保持される (追加した順番に要素が並ぶ)
* 異なるデータ型の要素を混在させることができる
* インデックス (添え字) を使って各要素にアクセスできる
* 変更可能 (ミュータブル) なデータ型

> 📝 **ポイント**: リストはプログラミングにおいて最も頻繁に使用されるデータ構造の一つです。アルゴリズムを実装する際、データの集合を扱うことが多いため、リストの操作に慣れることがとても重要です。

### 7.2 リストの作成と初期化

Python でリストを作成する方法はいくつかあります。

#### 空のリスト

```python
# 空のリストを作成
empty_list = []
print(empty_list)
```

<details>

<summary>実行結果</summary>

```
[]
```

</details>

#### 要素を含むリスト

```python
# 整数のリスト
numbers = [1, 2, 3, 4, 5]
print(numbers)

# 文字列のリスト
fruits = ["りんご", "バナナ", "オレンジ"]
print(fruits)

# 異なる型を混在させたリスト
mixed = [1, "Hello", 3.14, True]
print(mixed)
```

<details>

<summary>実行結果</summary>

```
[1, 2, 3, 4, 5]
['りんご', 'バナナ', 'オレンジ']
[1, 'Hello', 3.14, True]
```

</details>

### 7.3 リストへのアクセス (インデックス)

リストの各要素には、位置を示すインデックス (添え字) を使ってアクセスします。**Python のインデックスは 0 から始まる**ことに注意しましょう。

#### 基本的なインデックスアクセス

```python
fruits = ["りんご", "バナナ", "オレンジ"]

# インデックスを使った要素へのアクセス
print(fruits[0])  # 最初の要素
print(fruits[2])  # 3番目の要素
```

<details>

<summary>実行結果</summary>

```
りんご
オレンジ
```

</details>

#### 要素の更新

インデックスを使って、リストの要素を更新することができます。

```python
fruits[1] = "いちご"  # インデックス1の要素を更新
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'いちご', 'オレンジ']
```

</details>

> 📝 **ポイント**: `append()` は末尾に追加、`insert()` は指定位置に挿入、`remove()` は値で削除、`pop()` はインデックスで削除・取得します。アルゴリズム実装では、これらの操作の違いを理解することが重要です。

#### 例: インデックスを使ったリスト操作

```python
# 九州の県リスト
prefectures = ["福岡", "佐賀", "長崎", "熊本", "大分", "宮崎", "鹿児島"]

# インデックスを使って特定の要素にアクセス
print(f"3番目の県: {prefectures[2]}")

# インデックスを使った要素の入れ替え
i = 3
j = 4
prefectures[i], prefectures[j] = prefectures[j], prefectures[i]
print(f"入れ替え後: {prefectures}")
```

<details>

<summary>実行結果</summary>

```
3番目の県: 長崎
入れ替え後: ['福岡', '佐賀', '長崎', '大分', '熊本', '宮崎', '鹿児島']
```

</details>

> 📝 **ポイント**: 実際のアルゴリズム実装では、インデックスを操作して要素の位置を変更することがよくあります。特にソートアルゴリズムでは、要素の交換が基本操作となります。

#### インデックスの範囲外エラー

存在しないインデックスにアクセスすると、`IndexError` が発生します。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
# print(fruits[3])  # IndexError: list index out of range
```

> 📝 **ポイント**: インデックスが範囲内かどうかを確認してからアクセスすることが重要です。リストの長さは `len()` 関数で取得できます。

#### 負のインデックス ⭐

Python では、負のインデックスを使用して末尾から要素にアクセスすることができます。

```python
fruits = ["りんご", "バナナ", "オレンジ", "ぶどう", "メロン"]

# 負のインデックス
print(fruits[-1])  # 最後の要素
print(fruits[-2])  # 最後から2番目の要素
```

<details>

<summary>実行結果</summary>

```
メロン
ぶどう
```

</details>

### 7.4 リストの基本的な操作 ⭐

#### リストの結合

`+` 演算子を使用して、2つのリストを結合することができます。

```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2
print(combined)
```

<details>

<summary>実行結果</summary>

```
[1, 2, 3, 4, 5, 6]
```

</details>

#### 要素の追加

リストの末尾に要素を追加するには、`append()` メソッドを使います。

```python
fruits = ["りんご", "バナナ"]
fruits.append("オレンジ")  # リストの末尾に追加
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'バナナ', 'オレンジ']
```

</details>

#### 要素の挿入

リストの指定した位置に要素を挿入するには、`insert()` メソッドを使います。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
fruits.insert(1, "いちご")  # インデックス1 (2番目の位置) に挿入
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'いちご', 'バナナ', 'オレンジ']
```

</details>

#### 要素の削除

要素を削除する方法はいくつかあります。

**値を指定して削除 (remove)**

```python
fruits = ["りんご", "いちご", "バナナ", "オレンジ"]
fruits.remove("いちご")  # "いちご"を削除
print(fruits)
```

<details>

<summary>実行結果</summary>

```
['りんご', 'バナナ', 'オレンジ']
```

</details>

**インデックスを指定して削除 (pop)**

```python
fruits = ["りんご", "バナナ", "オレンジ"]
removed_fruit = fruits.pop(1)  # インデックス1の要素を削除して、その値を取得
print(removed_fruit)
print(fruits)

# 引数なしの pop() は末尾の要素を削除
last_fruit = fruits.pop()
print(last_fruit)
print(fruits)
```

<details>

<summary>実行結果</summary>

```
バナナ
['りんご', 'オレンジ']
オレンジ
['りんご']
```

</details>

> 📝 **ポイント**: `append()` は末尾に追加、`insert()` は指定位置に挿入、`remove()` は値で削除、`pop()` はインデックスで削除・取得します。アルゴリズム実装では、これらの操作の違いを理解することが重要です。

### 7.5 リストの基本的なメソッドと関数

リストを操作するための基本的なメソッドと関数を紹介します。

#### リストの長さ (要素数) を取得

```python
numbers = [3, 1, 4, 1, 5, 9, 2, 6]
length = len(numbers)
print(length)
```

<details>

<summary>実行結果</summary>

```
8
```

</details>

#### 要素の検索

```python
fruits = ["りんご", "バナナ", "オレンジ", "バナナ"]
# インデックスを取得 (先頭から検索)
index = fruits.index("バナナ")
print(index)  # 最初に見つかった "バナナ" のインデックス

# 要素の出現回数を数える
count = fruits.count("バナナ")
print(count)  # "バナナ" の出現回数
```

<details>

<summary>実行結果</summary>

```
1
2
```

</details>

#### in 演算子による要素の検索

Python では `in` 演算子を使って、リスト内に特定の要素が存在するかどうかを簡単に確認できます。

```python
fruits = ["りんご", "バナナ", "オレンジ", "ぶどう"]

# 要素が含まれているかをチェック
if "バナナ" in fruits:
    print("バナナが見つかりました")

# 含まれていない要素のチェック
if "メロン" not in fruits:
    print("メロンは見つかりませんでした")
```

<details>

<summary>実行結果</summary>

```
バナナが見つかりました
メロンは見つかりませんでした
```

</details>

***

### 演習問題

#### 問題 7-1: リストの作成

以下の指示に従って、リストを作成してください。

```python
# 1. 空のリストを作成し、変数 empty_list に代入する


# 2. 1 から 5 までの整数を含むリストを作成し、変数 numbers に代入する


# 3. 「りんご」、「バナナ」、「オレンジ」という 3つの文字列を含むリストを作成し、
# 変数 fruits に代入する


# 4. 作成したリストを表示する
print(empty_list)
print(numbers)
print(fruits)
```

<details>

<summary>ヒント</summary>

* 空のリストは `[]` で作成できます

- 要素を含むリストは `[要素1, 要素2, ...]` の形式で作成できます

* 要素は数値、文字列、ブール値など、様々な型が使えます

</details>

#### 問題 7-2: リストの要素へのアクセス

以下のリストを使って、インデックスを使ったアクセスの練習をしてください。

```python
colors = ["赤", "青", "緑", "黄", "紫"]

# 1. リストの最初の要素を取得して表示する


# 2. リストの 3番目の要素を取得して表示する


# 3. リストの最後の要素を取得して表示する


```

<details>

<summary>ヒント</summary>

* リストの要素にアクセスするには、`リスト名[インデックス]` の形式を使います

- インデックスは 0 から始まるため、最初の要素のインデックスは 0 です

* 負のインデックスを使うと、末尾から数えることができます ( -1 が最後の要素)

</details>

#### 問題 7-3: リストの要素の追加と削除

以下のリストを使って、要素の追加と削除の操作を練習してください。

```python
animals = ["犬", "猫", "うさぎ"]
print("初期のリスト:", animals)

# 1. リストの末尾に「トラ」を追加する

print("「トラ」追加後:", animals)


# 2. リストの2番目の位置 (インデックス 1) に「パンダ」を挿入する

print("「パンダ」挿入後:", animals)


# 3. リストから「うさぎ」を削除する

print("「うさぎ」削除後:", animals)


# 4. リストの最後の要素を取り出して (削除して) 表示する

print("最後の要素取り出し後:", animals)
```

<details>

<summary>ヒント</summary>

* `append(値)` メソッドは、リストの末尾に要素を追加します

- `insert(インデックス, 値)` メソッドは、指定したインデックスに要素を挿入します

* `remove(値)` メソッドは、指定した値に一致する最初の要素を削除します

- `pop()` メソッドは、デフォルトでリストの最後の要素を削除し、その値を返します

</details>

#### 問題 7-4: リストの更新

以下のリストを使って、要素の更新操作を練習してください。

```python
scores = [85, 92, 78, 65, 90]
print("初期のスコア:", scores)

# 1. 3番目の要素（インデックス2）を95に更新する

print("更新後のスコア:", scores)

# 2. 最初の要素を5点増やす

print("最初の要素を5点増やした後:", scores)
```

<details>

<summary>ヒント</summary>

* リストの要素を更新するには、インデックスを使って直接代入します: `リスト名[インデックス] = 新しい値`

- 既存の値を基に更新することもできます: `リスト名[インデックス] = リスト名[インデックス] + 5`

</details>

#### 問題 7-5: リストの結合と複製

リストの結合と複製の操作を練習してください。

```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]

# 1. list1 と list2 を結合して新しいリストを作成し、変数 combined_list に代入する

print("結合したリスト:", combined_list)

# 2. list1 を 3回繰り返した新しいリストを作成し、変数 repeated_list に代入する

print("繰り返したリスト:", repeated_list)
```

<details>

<summary>ヒント</summary>

* `+` 演算子を使うと、2つのリストを結合できます

- `*` 演算子を使うと、リストを指定した回数だけ繰り返すことができます

</details>



#### 問題 7-6: リストの要素の検索

以下のリストを使って、要素の検索操作を練習してください。

```python
fruits = ["りんご", "バナナ", "オレンジ", "バナナ", "ぶどう"]

# 1. リスト内に「バナナ」が存在するかどうかを確認し、結果を表示する


# 2. リスト内に「メロン」が存在するかどうかを確認し、結果を表示する


# 3. 「バナナ」が最初に現れるインデックスを取得して表示する


# 4. リスト内の「バナナ」の数を数えて表示する


```

<details>

<summary>ヒント</summary>

* `in` 演算子を使うと、リスト内に特定の要素が存在するかどうかを確認できます: `値 in リスト名`

- `index(値)` メソッドは、指定した値が最初に現れるインデックスを返します

* `count(値)` メソッドは、指定した値がリスト内に何回現れるかを返します

</details>

#### 問題 7-7: リストのソートと反転

以下のリストを使って、ソートと反転の操作を練習してください。

```python
numbers = [5, 2, 8, 1, 9, 3]
print("元のリスト:", numbers)

# 1. numbersを昇順にソートする

print("昇順ソート後:", numbers)

# 2. numbersを降順にソートする

print("降順ソート後:", numbers)

# 3. numbersの要素の順序を反転させる

print("反転後:", numbers)
```

<details>

<summary>ヒント</summary>

* `sort()` メソッドは、リストを昇順（小さい順）にソートします

- `sort(reverse=True)` とすると、降順（大きい順）にソートします

* `reverse()` メソッドは、リストの要素の順序を反転させます

</details>

#### 問題 7-8: リストの操作と組み合わせた関数

以下のリストに対して、関数を使った操作を練習してください。

```python
grades = [78, 95, 68, 87, 92, 75, 85, 81]

# 1. gradesの要素数を取得して表示する


# 2. gradesの最大値を取得して表示する


# 3. gradesの最小値を取得して表示する


# 4. gradesの合計を取得して表示する


# 5. gradesの平均値を計算して表示する


```

<details>

<summary>ヒント</summary>

* `len(リスト名)` 関数は、リストの要素数を返します

- `max(リスト名)` 関数は、リストの最大値を返します

* `min(リスト名)` 関数は、リストの最小値を返します

- `sum(リスト名)` 関数は、リストの要素の合計を返します

* 平均値は、合計を要素数で割ることで計算できます: `sum(リスト名) / len(リスト名)`

</details>
